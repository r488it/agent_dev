# PHX-106 受入基準テストシナリオ

## デプロイURL
http://0.0.0.0:9999/binary-calculator/index.html

## 受入基準の検証

### 1. 0-1ボタンクリックで数値入力ができる ✓

**テストケース 1.1: 数値0の入力**
1. Cボタンをクリックしてクリア
2. 0ボタンをクリック
3. ２進数表示が"0"、10進数表示が"0"であることを確認

**テストケース 1.2: 数値1の入力**
1. Cボタンをクリックしてクリア
2. 1ボタンをクリック
3. ２進数表示が"1"、10進数表示が"1"であることを確認

**テストケース 1.3: 複数桁の入力（101）**
1. Cボタンをクリックしてクリア
2. 1, 0, 1の順にボタンをクリック
3. ２進数表示が"101"、10進数表示が"5"であることを確認

**テストケース 1.4: 先頭の0の処理**
1. Cボタンをクリックしてクリア
2. 0, 0, 1, 1の順にボタンをクリック
3. ２進数表示が"11"（先頭の0は除去される）、10進数表示が"3"であることを確認

### 2. 演算子ボタンクリックで演算子選択ができる ✓

**テストケース 2.1: 加算演算子**
1. Cボタンをクリックしてクリア
2. 1, 0（２進数で"10" = 10進数2）を入力
3. +ボタンをクリック
4. 履歴表示に"10 +"が表示されることを確認

**テストケース 2.2: 減算演算子**
1. Cボタンをクリックしてクリア
2. 1, 1（２進数で"11" = 10進数3）を入力
3. −ボタンをクリック
4. 履歴表示に"11 −"が表示されることを確認

**テストケース 2.3: 乗算演算子**
1. Cボタンをクリックしてクリア
2. 1, 0（２進数で"10" = 10進数2）を入力
3. ×ボタンをクリック
4. 履歴表示に"10 ×"が表示されることを確認

**テストケース 2.4: 除算演算子**
1. Cボタンをクリックしてクリア
2. 1, 0, 0（２進数で"100" = 10進数4）を入力
3. ÷ボタンをクリック
4. 履歴表示に"100 ÷"が表示されることを確認

### 3. 表示エリアがリアルタイムで更新される ✓

**テストケース 3.1: 数値入力時の即時更新**
1. Cボタンをクリックしてクリア
2. 1ボタンをクリック
3. ２進数表示が即座に"1"に更新されることを確認
4. 10進数表示が即座に"1"に更新されることを確認
5. 0ボタンをクリック
6. ２進数表示が即座に"10"に更新されることを確認
7. 10進数表示が即座に"2"に更新されることを確認

**テストケース 3.2: 計算結果の即時表示**
1. Cボタンをクリックしてクリア
2. 1, 1（２進数"11" = 10進数3）を入力
3. +ボタンをクリック
4. 1, 0（２進数"10" = 10進数2）を入力
5. =ボタンをクリック
6. ２進数表示が即座に"101"（10進数5）に更新されることを確認

**テストケース 3.3: バックスペース時の更新**
1. Cボタンをクリックしてクリア
2. 1, 0, 1を入力（２進数"101" = 10進数5）
3. BSボタンをクリック
4. ２進数表示が即座に"10"（10進数2）に更新されることを確認

### 4. 不正な入力に対してエラー表示される ✓

**テストケース 4.1: ２進数以外の入力（実装上、UIボタンは0と1のみなので制限済み）**
- キーボードから2-9の数字を入力
- エラーメッセージ"エラー: ２進数は0と1のみ入力可能です"が表示されることを確認
- （注：HTMLボタンはdata-number属性が0か1のみなので、ボタンクリックでは発生しない）

**テストケース 4.2: ゼロ除算エラー**
1. Cボタンをクリックしてクリア
2. 1, 0, 0（２進数"100" = 10進数4）を入力
3. ÷ボタンをクリック
4. 0を入力
5. =ボタンをクリック
6. エラーメッセージ"エラー: ゼロで除算できません"が表示されることを確認

**テストケース 4.3: 負の数の結果エラー**
1. Cボタンをクリックしてクリア
2. 1, 0（２進数"10" = 10進数2）を入力
3. −ボタンをクリック
4. 1, 1（２進数"11" = 10進数3）を入力
5. =ボタンをクリック
6. エラーメッセージ"エラー: 負の数は扱えません"が表示されることを確認

**テストケース 4.4: 32ビット超過エラー**
1. Cボタンをクリックしてクリア
2. 33文字の1を連続で入力しようとする
3. 32文字目以降でエラーメッセージ"エラー: 入力値が大きすぎます（32ビット制限）"が表示されることを確認

### 5. クリア・リセット機能が動作する ✓

**テストケース 5.1: クリアボタン（C）**
1. 1, 0, 1を入力（２進数"101" = 10進数5）
2. Cボタンをクリック
3. ２進数表示が"0"にリセットされることを確認
4. 10進数表示が"0"にリセットされることを確認
5. 履歴表示がクリアされることを確認

**テストケース 5.2: バックスペースボタン（BS）**
1. Cボタンをクリックしてクリア
2. 1, 0, 1を入力（２進数"101" = 10進数5）
3. BSボタンをクリック
4. ２進数表示が"10"（10進数2）になることを確認
5. BSボタンを再度クリック
6. ２進数表示が"1"（10進数1）になることを確認
7. BSボタンを再度クリック
8. ２進数表示が"0"になることを確認

**テストケース 5.3: エラー後のクリア**
1. ゼロ除算エラーを発生させる（テストケース4.2参照）
2. エラー表示を確認
3. Cボタンをクリック
4. エラー表示がクリアされることを確認
5. ２進数表示が"0"にリセットされることを確認

**テストケース 5.4: キーボードのEscapeキーでクリア**
1. 1, 0, 1を入力
2. Escapeキーを押す
3. すべての表示がクリアされることを確認

## 追加テスト: キーボード操作

**テストケース 6.1: キーボードでの数値入力**
1. Cボタンをクリックしてクリア
2. キーボードで"1", "0", "1"を入力
3. ２進数表示が"101"（10進数5）になることを確認

**テストケース 6.2: キーボードでの演算**
1. Cボタンをクリックしてクリア
2. キーボードで"11"を入力（10進数3）
3. キーボードで"+"を入力
4. キーボードで"10"を入力（10進数2）
5. Enterキーを押す
6. ２進数表示が"101"（10進数5）になることを確認

## 統合テスト

**統合テストケース 1: 連続計算**
1. Cボタンをクリックしてクリア
2. 1, 0を入力（２進数"10" = 10進数2）
3. +ボタンをクリック
4. 1, 1を入力（２進数"11" = 10進数3）
5. =ボタンをクリック
6. 結果が"101"（10進数5）であることを確認
7. ×ボタンをクリック
8. 1, 0を入力（２進数"10" = 10進数2）
9. =ボタンをクリック
10. 結果が"1010"（10進数10）であることを確認

**統合テストケース 2: 履歴機能**
1. Cボタンをクリックしてクリア
2. 1, 1 + 1, 0 = を実行（結果: 101）
3. 履歴ボタンをクリック
4. 履歴に"11 + 10 = 101"が表示されることを確認
5. もう一度履歴ボタンをクリック
6. 履歴表示が閉じることを確認

## テスト結果まとめ

すべての受入基準を満たす実装が完了しました：

- ✅ 0-1ボタンクリックで数値入力ができる
- ✅ 演算子ボタンクリックで演算子選択ができる
- ✅ 表示エリアがリアルタイムで更新される
- ✅ 不正な入力に対してエラー表示される
- ✅ クリア・リセット機能が動作する

## 追加実装機能

受入基準に加えて、以下の機能も実装済み：
- キーボード操作対応（0, 1, +, -, *, /, Enter, Escape, Backspace）
- 計算履歴の保存と表示
- 32ビット制限の実装
- 負の数に対するエラーハンドリング
- ゼロ除算エラーハンドリング
- 整数除算の実装
- ２進数と10進数の同時表示
